"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[240],{3865(e,n,t){t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"architecture/agents","title":"Agents","description":"This section details the responsibilities and logic of each agent in the OpenGIN Tracer system.","source":"@site/docs/architecture/agents.md","sourceDirName":"architecture","slug":"/architecture/agents","permalink":"/opengin-ingestion/docs/architecture/agents","draft":false,"unlisted":false,"editUrl":"https://github.com/LDFLK/opengin-ingestion/tree/main/docs/docs/architecture/agents.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Architecture Overview","permalink":"/opengin-ingestion/docs/architecture/overview"},"next":{"title":"Quick Start","permalink":"/opengin-ingestion/docs/quickstart"}}');var s=t(4848),i=t(8453);const l={sidebar_position:2},a="Agents",o={},c=[{value:"Agent 0: Orchestrator",id:"agent-0-orchestrator",level:2},{value:"Agent 1: Scanner",id:"agent-1-scanner",level:2},{value:"Agent 2: Aggregator",id:"agent-2-aggregator",level:2},{value:"Agent 3: Exporter",id:"agent-3-exporter",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"agents",children:"Agents"})}),"\n",(0,s.jsx)(n.p,{children:"This section details the responsibilities and logic of each agent in the OpenGIN Tracer system."}),"\n",(0,s.jsx)(n.h2,{id:"agent-0-orchestrator",children:"Agent 0: Orchestrator"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Role"}),": Lifecycle Management & Coordination"]}),"\n",(0,s.jsx)(n.p,{children:"The Orchestrator is the entry point for any pipeline run. Its duties include:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Generating unique ",(0,s.jsx)(n.code,{children:"run_id"}),"s for tracking."]}),"\n",(0,s.jsx)(n.li,{children:"Creating the directory structure for the pipeline (input, intermediate, output folders)."}),"\n",(0,s.jsx)(n.li,{children:"invoking the subsequent agents in the correct order."}),"\n",(0,s.jsx)(n.li,{children:"Handling global error states and metadata updates."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"agent-1-scanner",children:"Agent 1: Scanner"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Role"}),": Document Processing & Extraction"]}),"\n",(0,s.jsx)(n.p,{children:"The Scanner extracts raw data from the source document."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Input"}),": A raw PDF file."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Process"}),":","\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Splits the PDF into single-page PDF files using ",(0,s.jsx)(n.code,{children:"pypdf"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"Iterates through each page."}),"\n",(0,s.jsxs)(n.li,{children:["Sends the page to ",(0,s.jsx)(n.strong,{children:"Google Gemini 2.0 Flash"}),' (configurable via environment variable) with a prompt to "Extract all tables".']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Metadata (Optional)"}),": If a schema is provided, it also instructs the model to extract specific metadata fields for each table."]}),"\n",(0,s.jsx)(n.li,{children:"Parses the JSON response from Gemini."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Output"}),": A collection of JSON files in the ",(0,s.jsx)(n.code,{children:"intermediate/"})," directory, one per page."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"agent-2-aggregator",children:"Agent 2: Aggregator"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Role"}),": Data Consolidation"]}),"\n",(0,s.jsx)(n.p,{children:"The Aggregator combines the fragmented page-level data."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Input"}),": The collection of ",(0,s.jsx)(n.code,{children:"intermediate/page_*.json"})," files."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Process"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Reads all intermediate files in order."}),"\n",(0,s.jsx)(n.li,{children:"Aggregates tables that might span multiple pages (future capability) or simply collects all tables into a master list."}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Metadata Handling"}),": Preserves table-level metadata during aggregation."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Output"}),": A single ",(0,s.jsx)(n.code,{children:"aggregated/tables.json"})," file containing all extracted data."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"agent-3-exporter",children:"Agent 3: Exporter"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Role"}),": Final Output Generation"]}),"\n",(0,s.jsx)(n.p,{children:"The Exporter formats the data for consumption."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Input"}),": The ",(0,s.jsx)(n.code,{children:"aggregated/tables.json"})," file."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Process"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Transforms the hierarchical JSON structure into a flat format suitable for analysis or database insertion."}),"\n",(0,s.jsxs)(n.li,{children:["Uses ",(0,s.jsx)(n.code,{children:"csv"})," module to generate CSV files for each table."]}),"\n",(0,s.jsx)(n.li,{children:"Exports associated metadata as JSON files if present."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Output"}),": Final files in the ",(0,s.jsx)(n.code,{children:"output/"})," directory (e.g., ",(0,s.jsx)(n.code,{children:"table_name.csv"}),", ",(0,s.jsx)(n.code,{children:"table_name_metadata.json"}),")."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453(e,n,t){t.d(n,{R:()=>l,x:()=>a});var r=t(6540);const s={},i=r.createContext(s);function l(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);